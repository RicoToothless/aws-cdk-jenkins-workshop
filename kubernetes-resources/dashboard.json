{
   "apiVersion": "v1",
   "kind": "Secret",
   "metadata": {
      "labels": {
         "k8s-app": "kubernetes-dashboard"
      },
      "name": "kubernetes-dashboard-certs",
      "namespace": "kube-system"
   },
   "type": "Opaque"
},
{
   "apiVersion": "v1",
   "kind": "ServiceAccount",
   "metadata": {
      "labels": {
         "k8s-app": "kubernetes-dashboard"
      },
      "name": "kubernetes-dashboard",
      "namespace": "kube-system"
   }
},
{
   "kind": "Role",
   "apiVersion": "rbac.authorization.k8s.io/v1",
   "metadata": {
      "name": "kubernetes-dashboard-minimal",
      "namespace": "kube-system"
   },
   "rules": [
      {
         "apiGroups": [
            ""
         ],
         "resources": [
            "secrets"
         ],
         "verbs": [
            "create"
         ]
      },
      {
         "apiGroups": [
            ""
         ],
         "resources": [
            "configmaps"
         ],
         "verbs": [
            "create"
         ]
      },
      {
         "apiGroups": [
            ""
         ],
         "resources": [
            "secrets"
         ],
         "resourceNames": [
            "kubernetes-dashboard-key-holder",
            "kubernetes-dashboard-certs"
         ],
         "verbs": [
            "get",
            "update",
            "delete"
         ]
      },
      {
         "apiGroups": [
            ""
         ],
         "resources": [
            "configmaps"
         ],
         "resourceNames": [
            "kubernetes-dashboard-settings"
         ],
         "verbs": [
            "get",
            "update"
         ]
      },
      {
         "apiGroups": [
            ""
         ],
         "resources": [
            "services"
         ],
         "resourceNames": [
            "heapster"
         ],
         "verbs": [
            "proxy"
         ]
      },
      {
         "apiGroups": [
            ""
         ],
         "resources": [
            "services/proxy"
         ],
         "resourceNames": [
            "heapster",
            "http:heapster:",
            "https:heapster:"
         ],
         "verbs": [
            "get"
         ]
      }
   ]
},
{
   "apiVersion": "rbac.authorization.k8s.io/v1",
   "kind": "RoleBinding",
   "metadata": {
      "name": "kubernetes-dashboard-minimal",
      "namespace": "kube-system"
   },
   "roleRef": {
      "apiGroup": "rbac.authorization.k8s.io",
      "kind": "Role",
      "name": "kubernetes-dashboard-minimal"
   },
   "subjects": [
      {
         "kind": "ServiceAccount",
         "name": "kubernetes-dashboard",
         "namespace": "kube-system"
      }
   ]
},
{
   "kind": "Deployment",
   "apiVersion": "apps/v1",
   "metadata": {
      "labels": {
         "k8s-app": "kubernetes-dashboard"
      },
      "name": "kubernetes-dashboard",
      "namespace": "kube-system"
   },
   "spec": {
      "replicas": 1,
      "revisionHistoryLimit": 10,
      "selector": {
         "matchLabels": {
            "k8s-app": "kubernetes-dashboard"
         }
      },
      "template": {
         "metadata": {
            "labels": {
               "k8s-app": "kubernetes-dashboard"
            }
         },
         "spec": {
            "containers": [
               {
                  "name": "kubernetes-dashboard",
                  "image": "k8s.gcr.io/kubernetes-dashboard-amd64:v1.10.1",
                  "ports": [
                     {
                        "containerPort": 8443,
                        "protocol": "TCP"
                     }
                  ],
                  "args": [
                     "--auto-generate-certificates"
                  ],
                  "volumeMounts": [
                     {
                        "name": "kubernetes-dashboard-certs",
                        "mountPath": "/certs"
                     },
                     {
                        "mountPath": "/tmp",
                        "name": "tmp-volume"
                     }
                  ],
                  "livenessProbe": {
                     "httpGet": {
                        "scheme": "HTTPS",
                        "path": "/",
                        "port": 8443
                     },
                     "initialDelaySeconds": 30,
                     "timeoutSeconds": 30
                  }
               }
            ],
            "volumes": [
               {
                  "name": "kubernetes-dashboard-certs",
                  "secret": {
                     "secretName": "kubernetes-dashboard-certs"
                  }
               },
               {
                  "name": "tmp-volume",
                  "emptyDir": {}
               }
            ],
            "serviceAccountName": "kubernetes-dashboard",
            "tolerations": [
               {
                  "key": "node-role.kubernetes.io/master",
                  "effect": "NoSchedule"
               }
            ]
         }
      }
   }
},
{
   "kind": "Service",
   "apiVersion": "v1",
   "metadata": {
      "labels": {
         "k8s-app": "kubernetes-dashboard"
      },
      "name": "kubernetes-dashboard",
      "namespace": "kube-system"
   },
   "spec": {
      "ports": [
         {
            "port": 443,
            "targetPort": 8443
         }
      ],
      "selector": {
         "k8s-app": "kubernetes-dashboard"
      }
   }
}
